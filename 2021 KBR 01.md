# 2021 KAKAO BLIND RECRUITMENT, [신규 아이디 추천](https://programmers.co.kr/learn/courses/30/lessons/72410)

```kotlin
class Solution {
    fun solution(new_id: String): String {
        var answer: String = step1(new_id)
        answer = step2(answer)
        answer = step3(answer)
        answer = step4(answer)
        answer = step5(answer)
        answer = step6(answer)
        answer = step7(answer)
        return answer
    }
    
    fun step1(id: String): String {
    return id.toLowerCase()
    }

    fun step2(id: String): String {
        val list = id.chunked(1).toMutableList()
        val specialSymbols = "~!@#\$%^&*()=+[{]}:?,<>/".split("").toMutableList()
        val freq = IntArray(id.length)

        list.forEachIndexed { index, c ->
            if (specialSymbols.contains(c)) {
                freq[index] += 1
            }
        }

        freq.forEachIndexed { index, i ->
            if (i != 0) {
                list[index] = ""
            }
        }

        return list.joinToString("")
    }

    fun step3(id: String): String {
        val list = id.chunked(1).toMutableList()
        var count = 0

        if (list.size < 2) return id

        list.forEachIndexed { index, s ->
            if (s == ".") {
                if (list[index + 1] == ".") {
                    count += 1
                } else {
                    for (i in 1..count) {
                        list[index - i] = ""
                    }
                    count = 0
                }
            }
        }

        return list.joinToString("")
    }

    fun step4(id: String): String {
        val list = id.chunked(1).toMutableList()

        if (list.size < 2) return id

        if (list[0] == ".") {
            list[0] = ""
        }

        if (list.last() == ".") {
            list[list.lastIndex] = ""
        }

        return list.joinToString("")
    }

    fun step5(id: String): String {
        return if (id == "") {
            "a"
        } else id
    }

    fun step6(id: String): String {
        val list = id.chunked(1).toMutableList()

        list.forEachIndexed { index, _ ->
            if (index > 14) {
                list[index] = ""
            }
        }

        return list.joinToString("").trim()
    }

    fun step7(id: String): String {
        val list = id.chunked(1).toMutableList()

        if (list.size <= 2) {
            while (list.size < 3) {
                list.add(list.last())
            }
        }

        return list.joinToString("")
    }
}
```